# Оновлення системи

## Підготовка до оновлення

1. **Ознайомтесь з оновленнями**:
    - Перевірте журнал змін (changelog) та документи про оновлення, щоб зрозуміти, які зміни будуть застосовані.

2. **Перевірка поточної версії**:
    - Перед оновленням переконайтесь, що у вас є поточна робоча версія програми.
    - Використовуйте команду `git status` або перевірте номер версії в налаштуваннях програми (якщо є).

## Створення резервних копій

1. **Резервне копіювання бази даних**:
    - Виконайте резервне копіювання бази даних, щоб уникнути втрати даних під час оновлення.
    - Для SQLite можна створити копію бази даних:
      ```bash
      cp products /path/to/backup/products_backup
      ```

2. **Резервне копіювання програмних файлів**:
    - Зробіть резервну копію наявної версії JAR-файлу перед оновленням:
      ```bash
      cp MyShopRep.jar /path/to/backup/MyShopRep_backup.jar
      ```

## Перевірка сумісності

1. **Перевірка сумісності нової версії**:
    - Перевірте, чи нова версія програми сумісна з існуючою базою даних та конфігураціями. Якщо є зміни в структурі бази, переконайтесь, що вони не впливають на поточні дані.

2. **Перевірка сумісності нової версії JAR-файлу з операційною системою**:
    - Перевірте, чи нова версія JAR працює на цільових платформах (Windows, macOS, Linux). У разі потреби перевірте налаштування Java.

## Планування часу простою

1. **Оцінка часу простою**:
    - Оскільки програма працює локально, оновлення може бути виконане без припинення доступу до програми.
    - Процес оновлення може зайняти кілька хвилин, залежно від наявності резервних копій і часу на заміну файлів.

## Процес оновлення

1. **Заміна JAR-файлу**:
    - Зупиніть програму, якщо вона працює.
    - Скопіюйте новий JAR-файл в директорію з програмою, замінивши старий:
      ```bash
      cp new_version/MyShopRep.jar /path/to/your/application/
      ```

2. **Перевірка оновленої версії**:
    - Запустіть оновлену версію програми:
      ```bash
      java -jar MyShopRep.jar
      ```

3. **Оновлення бази даних (якщо потрібно)**:
    - Якщо оновлення передбачає зміни в базі даних (наприклад, додавання нових таблиць або полів), перевірте, чи виконано міграцію даних. Якщо це необхідно, виконайте SQL-сценарії для внесення змін в базу.

## Процедура відкату (rollback) у разі невдалого оновлення

1. **Відкат коду**:
    - Якщо нова версія не працює, відкотіть зміни до попередньої версії JAR-файлу, замінивши новий файл на старий:
      ```bash
      cp /path/to/backup/MyShopRep_backup.jar /path/to/your/application/
      ```

2. **Відкат бази даних**:
    - Якщо міграція бази даних призвела до помилок, відновіть резервну копію бази даних:
      ```bash
      cp /path/to/backup/products_backup /path/to/your/application/products
      ```

---

Ця інструкція дозволить вам оновити локальну версію програми та відновити попередній стан у разі невдалого оновлення.
